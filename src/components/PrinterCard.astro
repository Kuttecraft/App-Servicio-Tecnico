---
// ...props
const {
  cliente = "Nombre del Cliente",
  estado = "Estado",
  modelo = "Modelo",
  imagen,
  onClickUrl = "#",
  onClickUrlEditar = "#",
  ticket = "",
  whatsapp = ""
} = Astro.props;

const imgPorDefecto = "/logo.webp";
const imagenFinal = imagen && imagen.trim() !== "" ? imagen : imgPorDefecto;
const esPorDefecto = imagenFinal === imgPorDefecto;
const srcImagen = esPorDefecto ? imgPorDefecto : imagenFinal + '?t=' + Date.now();
---
<div class="card card-custom text-center p-3 shadow-sm mb-4" style="border-radius: 15px; min-width: 220px;">
  <img 
    src={srcImagen}
    alt="Imagen impresora"
    loading="lazy"
    style="max-height: 170px; max-width: 170px; object-fit: cover; border-radius: 9px; transition: box-shadow 0.2s;"
    class="mx-auto mt-1 mb-2 shadow-sm border"
  />

  <h6 class="fw-bold text-dark mt-2 mb-1" style="font-size: 1.12rem;">{cliente}</h6>

  <ul class="list-unstyled mb-3 small" style="color: var(--bs-secondary);">
    <li><strong>Ticket:</strong> {ticket}</li>
    <li><strong>Modelo:</strong> {modelo}</li>
    <li><strong>Estado:</strong> {estado}</li>
    <li><strong>WhatsApp:</strong> {whatsapp}</li>
  </ul>

  <div class="d-flex flex-row gap-2 justify-content-center mt-2">
    <a href={onClickUrl} class="btn-ver-card px-3 py-1">Ver</a>
    <a href={onClickUrlEditar} class="btn-editar-card px-3 py-1">Editar</a>
  </div>
</div>
