---
const {
  id,
  ticket = "Sin ticket",
  cliente = "Desconocido",
  maquina = "Desconocido",
  estado = "Sin estado",
  whatsapp = "No especificado",
  onClickUrl = "#",
  onClickUrlEditar = "#",
  imagen = null,         // Imagen principal
  imagen_ticket = null,  // Nueva imagen_ticket
  imagen_extra = null    // Nueva imagen_extra
} = Astro.props;

// Lógica de prioridad de imágenes:
// 1. imagen_ticket
// 2. imagen
// 3. imagen_extra
// 4. logo por defecto
const imagenFinal =
  imagen_ticket ||
  imagen ||
  imagen_extra ||
  "/logo.webp";
---

<div class="card card-custom text-center p-3 shadow-sm mb-4" style="border-radius: 15px; min-width: 220px;">
  <img
    src={`${imagenFinal}?t=${Date.now()}`}
    alt={`Imagen del equipo de ${cliente}`}
    loading="lazy"
    style="max-height: 200px; max-width: 200px; object-fit: cover; border-radius: 15px;"
    class="mx-auto mt-1 mb-2 shadow-sm border"
  />

  <h6 class="fw-bold text-dark mt-2 mb-1" style="font-size: 1.12rem;">
    {cliente}
  </h6>

  <ul class="list-unstyled mb-3 small text-secondary">
    <li><strong>ID:</strong> {id}</li>
    <li><strong>Ticket:</strong> {ticket}</li>
    <li><strong>Maquina:</strong> {maquina}</li>
    <li><strong>Estado:</strong> {estado}</li>
    <li><strong>WhatsApp:</strong> {whatsapp}</li>
  </ul>

  <div class="d-flex flex-row gap-2 justify-content-center mt-2">
    <a href={onClickUrl} class="btn-ver-card px-3 py-1">Ver</a>
    <a href={onClickUrlEditar} class="btn-editar-card px-3 py-1">Editar</a>
  </div>
</div>
